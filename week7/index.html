<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    </head>
    <style>
        .over {
            background-color: orange;
        }
        .selected {
            background-color: green;
        }
    </style>

    <body>
        <div id="buttons"></div>
        <table border='1'>
            <tr>
                <th>name</th>
                <th>role</th>
                <th>house</th>
                <th>gender</th>
                <th>alignment</th>
            </tr>
        </table>
        <button id="resetbtn">reset</button>
    </body>
  
        <script>
        // list of characters
        var characters = [
        {name:"Albus Dumbledore", role:"staff", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Nymphadora Tonks", role:"", house:"Hufflepuff",gender:"f",alignment:"good"},    
        {name:"Ron Weasley", role:"student", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Ginny Weasley", role:"student", house:"Gryffindor",gender:"f",alignment:"good"},    
        {name:"Hermione Granger", role:"student", house:"Gryffindor",gender:"f",alignment:"good"},    
        {name:"Mad-eye Moody", role:"staff", house:"빈칸",gender:"m",alignment:"good"},    
        {name:"Prof McGonagall", role:"staff", house:"Gryffindor",gender:"f",alignment:"good"},    
        {name:"Harry Potter", role:"student", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Draco Malfoy", role:"student", house:"Slytherin",gender:"m",alignment:"evil"},    
        {name:"Hagrid", role:"staff", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Luna Lovegood", role:"student", house:"Ravenclaw",gender:"f",alignment:"good"},    
        {name:"Voldemort", role:"", house:"Slytherin",gender:"m",alignment:"evil"},    
        {name:"Bellatrix Lestrange", role:"", house:"Slytherin",gender:"f",alignment:"evil"},           
        {name:"Severus Snape", role:"staff", house:"Slytherin",gender:"m",alignment:"?"},
        {name:"Albus Dumbledore", role:"staff", house:"Gryffindor",gender:"m",alignment:"good"}
        ];

        $(document).ready(function(){
          let houseSet = new Set();
          var table = $("table"); //테이블 생성

          $.each(characters, function(i, character) {
            var row = $("<tr></tr>");
            houseSet.add(character.house);
            row.append("<td>" + character.name + "</td>");
            row.append("<td>" + character.role + "</td>");
            row.append("<td>" + character.house + "</td>");
            row.append("<td>" + character.gender + "</td>");
            row.append("<td>" + character.alignment + "</td>");
            table.append(row);
          });
          resetColor();
          
          // var button = $('#buttons');
          for(let house of houseSet){
            var button = $("<button>" + house + "</button>");
            button.click(function(){
              $('table tr').show();
              let houseName = this.textContent;
              $('table').find('tr').each(function (i,tr){
                if(i==0) 
                  return true;
                if(houseName !== $(tr).children('td:eq(2)').text())
                  $(tr).hide();
              });
              resetColor();
            });
            $('#buttons').append(button);
          }
         $('#resetbtn').click(function(){
           $('table tr').show();
           resetColor();
         });

          // var oddrow = $('table tr : odd');
          // var evenrow = $('table tr : even');
          


        /*
        - add a button for each 'house' value
        - add table row for each character
        - set visible rows to alternating background color
            
        - add click handler to show only rows matching selected 'house'. Enable buttons to call this handler. 
        
        - add click handler to reset table 
        */

        
        });

        function resetColor(){
          $('table tr:visible:odd').css('backgroundColor','#FFC0CB');
          $('table tr:visible:even').css('backgroundColor', '#ADD8E6');
        }
        </script>
</html>